<main class="page">
   <rya-search-bar
      class="page__search-bar"
      [color]="'secondary'"
      (click)="shared.toggleSearchModal()"
   />
   <rya-header class="page__header" [content]="content.header.main" [variant]="'main'" />
   <rya-tab class="page__tab" [tabs]="content.tab" (currentTabEmitter)="currentTabSetter($event)" />

   <ng-container [ngSwitch]="config.currentTabIndex">
      <section *ngSwitchCase="0" class="page__section page__arrivals">
         <ng-container *ngIf="{ loading: pageLoaded$ | async } as loaded">
            <ng-container *ngFor="let train of trainData$ | async; let i = index">
               <lib-station-card
                  *ngIf="i < config.maxStationArrivals"
                  class="page__arrivals__card"
                  [content]="train"
                  [feedback]="content.feedback['emptyArrivals']"
                  [maxQuantiy]="config.maxRailArrivals"
                  infoFlag="arrival"
               />
            </ng-container>

            <div *ngIf="loaded.loading" class="page__arrivals">
               <lib-loading-skeleton />
               <lib-loading-skeleton />
               <lib-loading-skeleton />
               <lib-loading-skeleton />
            </div>
         </ng-container>
      </section>
      <section *ngSwitchCase="1" class="page__section">
         <lib-station-card
            class="page__arrivals__card"
            [feedback]="content.feedback['emptySaved']"
            [maxQuantiy]="config.maxRailArrivals"
            infoFlag="feedback"
         />
      </section>
   </ng-container>

   <section class="page__section page__explore">
      <rya-header [content]="content.header.explore" [variant]="'main'" />
      <div class="page__explore__actions">
         <rya-card class="page__explore__actions__tile" spacing="xs">
            <rya-icon [category]="'navigation'" [name]="'search'" class="search" />
            <p>Parking</p>
         </rya-card>
         <rya-card class="page__explore__actions__tile" spacing="xs">
            <rya-icon [category]="'navigation'" [name]="'search'" class="search" />
            <p>Breeze Card</p>
         </rya-card>
         <rya-card class="page__explore__actions__tile" spacing="xs">
            <rya-icon [category]="'navigation'" [name]="'search'" class="search" />
            <p>Rail Map</p>
         </rya-card>
         <rya-card class="page__explore__actions__tile" spacing="xs">
            <rya-icon [category]="'navigation'" [name]="'search'" class="search" />
            <p>Schedules</p>
         </rya-card>
      </div>
   </section>
</main>
